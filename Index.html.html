<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Care & Tax Services</title>
  <style>
    body { margin: 0; font-family: 'Inter', sans-serif; background: #fff; color: #1c1c1c; }
    h1 { text-align: center; font-size: 2rem; margin-top: 40px; }
    .button-bar { display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; margin: 30px auto; }
    .button-bar button { padding: 12px 20px; font-size: 1rem; background-color: #1c1c1c; color: white; border: none; border-radius: 6px; cursor: pointer; transition: background 0.3s ease; }
    .button-bar button:hover { background-color: #444; }
    .section { display: none; opacity: 0; max-width: 1200px; margin: 0 auto; padding: 30px 20px; transition: opacity 0.5s ease; }
    .section.show { display: block; }
    .section.fade-in { opacity: 1; }
    iframe { width: 100%; border: none; }
    .placeholder { text-align: center; font-size: 1.2rem; padding: 60px 20px; background: #f9f9f9; border-radius: 10px; }
    @media (max-width: 600px) {
      h1 { font-size: 1.5rem; padding: 0 10px; }
      .button-bar { flex-direction: column; align-items: center; }
    }
  </style>
</head>
<body>
  <h1>Welcome! How can we help you today?</h1>
  <div class="button-bar">
    <button onclick="showSection('appointment')">üóïÔ∏è Book an Appointment</button>
    <button onclick="showSection('upload')">üõÑ Upload Documents</button>
    <button onclick="showSection('estimator')">üìä Tax Estimator</button>
  </div>

  <div id="appointment" class="section">
    <iframe width='100%' height='750px' src='https://info-caretaxservices.zohobookings.com/portal-embed#/caretaxservices' frameborder='0' allowfullscreen='' ></iframe>
  </div>

  <div id="upload" class="section">
   <iframe aria-label='Securely Upload Documents' frameborder="0" style="height:500px;width:99%;border:none;" src='https://forms.zohopublic.com/caretaxservices1/form/UploadDocuments/formperma/OAaNOkGETVmffER-Az1hxQsMh5xx16JKVQwJ6WM4XVs'></iframe>
  </div>

  <div id="estimator" class="section">
    
   <div class="container">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Care & Tax Services - Tax Estimator</title>
  <style>
    body { font-family: Arial, sans-serif; background: #fff; color: #000; margin: 0; padding: 0; }
    .container { max-width: 800px; margin: auto; padding: 20px; }
    .step { display: none; }
    .step.active { display: block; }
    .btn { padding: 10px 20px; margin: 10px 5px; background: #1c1c1c; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
    .btn:hover { background: #333; }
    input, select { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; }
    .progress { height: 10px; background: #eee; border-radius: 10px; margin-bottom: 20px; }
    .progress-bar { height: 10px; background: #4CAF50; width: 0%; }
    .summary { background: #f9f9f9; padding: 20px; border-radius: 8px; }
    .disclaimer { font-size: 0.85em; color: #555; margin-top: 20px; }
  </style>
</head>
<body>
<div class="container">
  <h1>Care & Tax Services</h1>
  <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
  <div class="step active" id="step1">
    <h2>Basic Info</h2>
    <input type="text" value="2025" disabled>
    <label>Filing Status:</label>
    <select id="filingStatus">
  <option value="">-- Select Status --</option>
  <option value="single">Single</option>
  <option value="married">Married Filing Jointly</option>
  <option value="mfs">Married Filing Separately</option>
  <option value="hoh">Head of Household</option>
</select>
    <button class="btn" onclick="nextStep(2)">Next</button>
  </div>

  <div class="step" id="step2">
    <h2>Dependents</h2>
    <label>Children under 17 (for CTC):</label>
    <input type="number" id="childDependents" min="0" value="0">
    <label>Other Dependents:</label>
    <input type="number" id="otherDependents" min="0" value="0">
    <label>Who is claiming the child for credits?</label>
    <select id="childClaim">
  <option value="">-- Select One --</option>
  <option value="you">I am</option>
  <option value="other">The other parent</option>
  <option value="thirdparty">Other relative (e.g., aunt, uncle, grandparent)</option>
</select>
    <button class="btn" onclick="prevStep()">Back</button>
    <button class="btn" onclick="nextStep(3)">Next</button>
  </div>

  <div class="step" id="step3">
    <h2>Income Sources</h2>
    <label><input type="checkbox" onchange="toggleSection('w2Section')"> W-2 Income</label>
    <div id="w2Section" style="display:none;">
      <div class="w2-entry">
        <input type="number" placeholder="W-2 Total Income" class="w2Income">
        <input type="number" placeholder="W-2 Federal Withheld" class="w2Federal">
        <input type="number" placeholder="Social Security Withheld" class="w2SS">
        <input type="number" placeholder="Medicare Withheld" class="w2Medicare">
      </div>
      <button class="btn" type="button" onclick="addW2Entry()">Add More</button>
    </div>

    <label><input type="checkbox" onchange="toggleSection('schedCSection')"> Schedule C</label>
    <div id="schedCSection" style="display:none;">
      <input type="number" id="schedCIncome" placeholder="Schedule C Total Income">
      <input type="number" id="schedCFederal" placeholder="Schedule C Federal Withheld">
    </div>

    <label><input type="checkbox" onchange="toggleSection('spouseSection')"> Spouse Income</label>
<div id="spouseSection" style="display:none;">
  <label>Select Spouse Income Types:</label>
  <div>
    <label><input type="checkbox" onchange="toggleSection('spouseW2Section')"> W-2</label>
    <label><input type="checkbox" onchange="toggleSection('spouse1099Section')"> 1099</label>
    <label><input type="checkbox" onchange="toggleSection('spouseScheduleCSection')"> Schedule C</label>
  </div>
  <div id="spouseW2Section" style="display:none;">
    <div class="spouse-w2-entry">
      <input type="number" placeholder="Spouse W-2 Income" class="spouseW2Income">
      <input type="number" placeholder="Spouse W-2 Federal Withheld" class="spouseW2Federal">
    </div>
    <button class="btn" type="button" onclick="addSpouseW2Entry()">Add More</button>
  </div>
  <div id="spouse1099Section" style="display:none;">
    <input type="number" id="spouse1099Income" placeholder="Spouse 1099 Income">
  </div>
  <div id="spouseScheduleCSection" style="display:none;">
    <input type="number" id="spouseScheduleCIncome" placeholder="Spouse Schedule C Income">
  </div>
</div>

    <label><input type="checkbox" onchange="toggleSection('eduSection')"> 1098-T (Education Credit)</label>
    <div id="eduSection" style="display:none;">
      <input type="number" id="eduExpenses" placeholder="Education Expenses">
    </div>

    <div><label><input type="checkbox" onchange="toggleSection('energySection')"> Form 5695 (Energy Credit)</label></div>
    <div id="energySection" style="display:none;">
      <input type="number" id="energyCredit" placeholder="Energy Improvements">
    </div>

    <button class="btn" onclick="prevStep()">Back</button>
    <button class="btn" onclick="calculateEstimate()">Estimate Refund</button>
  </div>

  <div class="step" id="step4">
    <h2>Estimated Summary</h2>
    <div class="summary" id="summaryBox"></div>
    <div class="disclaimer">* This is an estimate only. Results are not 100% accurate and should not be considered tax advice.</div>
    <button class="btn" onclick="startOver()">Start Over</button>
  </div>
</div>

<script>
  let currentStep = 1;
  function nextStep(step) {
    document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
    document.getElementById('step' + step).classList.add('active');
    document.getElementById('progressBar').style.width = ((step - 1) * 33) + '%';
    currentStep = step;
  }
  function prevStep() {
    if (currentStep > 1) nextStep(currentStep - 1);
  }
  function startOver() { location.reload(); }
  function toggleSection(id) {
    const el = document.getElementById(id);
    el.style.display = el.style.display === 'none' ? 'block' : 'none';
  }
  function addW2Entry() {
    const container = document.getElementById('w2Section');
    const entry = document.createElement('div');
    entry.classList.add('w2-entry');
    entry.innerHTML = `
      <input type="number" placeholder="W-2 Total Income" class="w2Income">
      <input type="number" placeholder="W-2 Federal Withheld" class="w2Federal">
      <input type="number" placeholder="Social Security Withheld" class="w2SS">
      <input type="number" placeholder="Medicare Withheld" class="w2Medicare">
    `;
    container.insertBefore(entry, container.lastElementChild);
  }
  function addSpouseW2Entry() {
  const container = document.getElementById('spouseW2Section');
  const entry = document.createElement('div');
  entry.classList.add('spouse-w2-entry');
  entry.innerHTML = `
    <input type="number" placeholder="Spouse W-2 Income" class="spouseW2Income">
    <input type="number" placeholder="Spouse W-2 Federal Withheld" class="spouseW2Federal">
  `;
  container.insertBefore(entry, container.lastElementChild);
}

function calculateEstimate() {
    const filingStatus = document.getElementById('filingStatus').value;
    const childClaim = document.getElementById('childClaim').value;
    const dependentsUnder17 = parseInt(document.getElementById('childDependents').value) || 0;
    const otherDependents = parseInt(document.getElementById('otherDependents').value) || 0;
    const w2Incomes = [...document.querySelectorAll('.w2Income')].map(el => parseFloat(el.value) || 0);
    const w2Withhelds = [...document.querySelectorAll('.w2Federal')].map(el => parseFloat(el.value) || 0);
    const w2Income = w2Incomes.reduce((a, b) => a + b, 0);
    const w2Withheld = w2Withhelds.reduce((a, b) => a + b, 0);
    const schedCIncome = parseFloat(document.getElementById('schedCIncome')?.value) || 0;
    const schedCFederal = parseFloat(document.getElementById('schedCFederal')?.value) || 0;
    const spouseIncome = parseFloat(document.getElementById('spouseIncome')?.value) || 0;
    const spouseFederal = parseFloat(document.getElementById('spouseFederal')?.value) || 0;
    const eduExpenses = parseFloat(document.getElementById('eduExpenses')?.value) || 0;
    const energyCredit = parseFloat(document.getElementById('energyCredit')?.value) || 0;

    const totalIncome = w2Income + schedCIncome + spouseIncome;
    const totalWithheld = w2Withheld + schedCFederal + spouseFederal;
    const stdDeduction = filingStatus === 'single' ? 13850 : filingStatus === 'married' ? 27700 : 20800;
    const taxableIncome = Math.max(totalIncome - stdDeduction, 0);

    let tax = 0;
    if (filingStatus === 'single') {
      tax = taxableIncome <= 11000 ? taxableIncome * 0.10 : taxableIncome <= 44725 ? 1100 + (taxableIncome - 11000) * 0.12 : 5147 + (taxableIncome - 44725) * 0.22;
    } else if (filingStatus === 'hoh') {
      tax = taxableIncome <= 15700 ? taxableIncome * 0.10 : taxableIncome <= 59850 ? 1570 + (taxableIncome - 15700) * 0.12 : 6868 + (taxableIncome - 59850) * 0.22;
    } else {
      tax = taxableIncome <= 22000 ? taxableIncome * 0.10 : taxableIncome <= 89450 ? 2200 + (taxableIncome - 22000) * 0.12 : 10294 + (taxableIncome - 89450) * 0.22;
    }

    const ctc = childClaim === 'you' ? dependentsUnder17 * 2000 : 0;
    const odc = childClaim === 'you' ? otherDependents * 500 : 0;
    const aotc = Math.min(eduExpenses * 0.25, 2500);
    let eic = 0;
    if (filingStatus !== 'mfs' && totalIncome < 60000 && dependentsUnder17 > 0 && childClaim === 'you') {
      eic = Math.min(5600, dependentsUnder17 * 3500);
    }
    const totalCredits = ctc + odc + aotc + energyCredit + eic;
    const refund = Math.max(totalWithheld + totalCredits - tax, 0);

    let alerts = '';
    if (filingStatus === 'hoh' || ctc > 0 || aotc > 0 || eic > 0) alerts += '<p><strong>‚ö†Ô∏è Due Diligence Required:</strong> Form 8867 must be completed.</p>';
    if (refund > 6000 && totalIncome < 20000) alerts += '<p><strong>‚ö†Ô∏è High Audit Risk:</strong> This return may trigger an IRS review.</p>';

    const forms = ['1040'];
    if (ctc > 0 || odc > 0) forms.push('Schedule 8812');
    if (aotc > 0) forms.push('8863');
    if (energyCredit > 0) forms.push('5695');
    if (eic > 0) forms.push('EIC');
    if (alerts.includes('8867')) forms.push('8867');

    document.getElementById('summaryBox').innerHTML = `
      <h3>Estimated Refund: $${refund.toFixed(2)}</h3>
      <p><strong>Filing Status:</strong> ${filingStatus.toUpperCase()}</p>
      <p><strong>Total Income:</strong> $${totalIncome.toFixed(2)}</p>
      <p><strong>Taxable Income:</strong> $${taxableIncome.toFixed(2)}</p>
      <p><strong>Tax:</strong> $${tax.toFixed(2)}</p>
      <p><strong>Credits Applied:</strong> $${totalCredits.toFixed(2)} (CTC: $${ctc}, ODC: $${odc}, AOTC: $${aotc}, Energy: $${energyCredit}, EIC: $${eic})</p>
      <p><strong>Federal Withheld:</strong> $${totalWithheld.toFixed(2)}</p>
      <p><strong>Forms Required:</strong> ${forms.join(', ')}</p>
      ${alerts}
    `;
    nextStep(4);
  }
</script>
</div> <!-- This closes the <div id="estimator"> -->

  <script>
    function showSection(id) {
      const sections = document.querySelectorAll('.section');
      sections.forEach(sec => {
        sec.classList.remove('fade-in');
        sec.style.display = 'none';
      });
      const target = document.getElementById(id);
      if (target) {
        target.style.display = 'block';
        setTimeout(() => target.classList.add('fade-in'), 10);
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }
  </script>
</body>
</html>